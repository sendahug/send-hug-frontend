<li class="{{containerClass}}" aria-describedby="newTitle" role="article">
	<div class="itemText" aria-describedby="pText" id="{{ postId() }}">{{ post.text }}</div>
	<div class="itemUser">By <a [routerLink]="['/user', post.userId ]" class="profileLink" aria-describedby="pUser" id="{{ type + 'User' + post.id }}">{{ post.user }}</a> </div>
	<div class="itemDate" aria-describedby="pDate">{{ post.date }}</div>
	<div [ngClass]="buttonsContainerClass()">
		<div class="notification" [attr.aria-describedby]="'pHug ' + type + 'User' + post.id">
			<button
				[ngClass]="sendHugButtonClass()"
				(click)="sendHug()"
				[attr.aria-labelledby]="'pHug ' + type + 'User' + post.id"
				name="send a hug"
				[disabled]="shouldDisableHugBtn()"
			>
				<fa-icon [icon]="faHandHoldingHeart" class="fa-hand-holding-heart"></fa-icon>
			</button>
			<span class="badge" aria-describedby="pGivenH">{{ post.givenHugs }}</span>
		</div>
		<button [ngClass]="menuButtonClass()" [attr.aria-labelledby]="'pOptions ' + type + 'Post' + post.id" name="post options" (click)="toggleOptions()"><fa-icon [icon]="faEllipsisV" class="fa-comment"></fa-icon></button>
		<div [ngClass]="subMenuClass()">
			<a [routerLink]="['/new', 'Message']" [queryParams]="{user: post.user, userID: post.userId}" class="textlessButton messageButton" [attr.aria-labelledby]="'pMessage ' + type + 'User' + post.id" name="send a message"><fa-icon [icon]="faComment" class="fa-comment"></fa-icon></a>
			<button class="textlessButton reportButton" (click)="reportPost()" [attr.aria-labelledby]="'pReport ' + type +  'Post' + post.id" name="report"><fa-icon [icon]="faFlag" class="fa-flag"></fa-icon></button>
			<button *ngIf="authService.canUser('patch:any-post')" class="textlessButton editButton" (click)="editPost()" [attr.aria-labelledby]="'pEdit ' + type + 'Post' + post.id"><fa-icon [icon]="faEdit" class="fa-edit"></fa-icon></button>
			<button *ngIf="authService.canUser('delete:any-post')" class="textlessButton deleteButton" (click)="deletePost()" [attr.aria-labelledby]="'pDelete ' + type + 'Post' + post.id"><fa-icon [icon]="faTimes" class="fa-times"></fa-icon></button>
		</div>
	</div>
</li>

<item-delete-form
	*ngIf="deleteMode"
	(editMode)="changeMode($event, 'Delete')"
	[toDelete]="toDelete"
	[itemToDelete]="itemToDelete"
></item-delete-form>

<post-edit-form
	*ngIf="editMode"
	[editedItem]="postToEdit"
	(editMode)="changeMode($event, 'Edit')"
></post-edit-form>

<report-form
	*ngIf="reportMode"
	(reportMode)="changeMode($event, 'Report')"
	[reportedItem]="reportedItem"
	[reportType]="reportType"
></report-form>
